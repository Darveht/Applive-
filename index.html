
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LiveStream - Transmite en Vivo</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #f8e8ff 100%);
            overflow: hidden;
        }

        /* Pantalla de Carga */
        .screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: none;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ffeef8 0%, #f8e8ff 100%);
            z-index: 1000;
        }

        .screen.active {
            display: flex;
        }

        #loading-screen {
            flex-direction: column;
            color: #8b5a9e;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #f3d5e8;
            border-top: 4px solid #d63384;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Autenticaci√≥n */
        .auth-container {
            text-align: center;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
        }

        .logo {
            margin-bottom: 2rem;
        }

        .logo i {
            font-size: 3rem;
            color: #d63384;
            margin-bottom: 0.5rem;
        }

        .logo h1 {
            color: #8b5a9e;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .tagline {
            color: #6c757d;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .auth-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #d63384 0%, #b44d72 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(214, 51, 132, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: #d63384;
            border: 2px solid #d63384;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #d63384;
            color: white;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }

        .auth-form.hidden {
            display: none;
        }

        .input-field {
            padding: 15px 20px;
            border: 2px solid #f3d5e8;
            border-radius: 50px;
            font-size: 1rem;
            background: white;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            border-color: #d63384;
        }

        /* Contenedor de contrase√±a */
        .password-container {
            position: relative;
        }

        .password-input {
            padding-right: 50px;
        }

        .password-toggle {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #8b5a9e;
            cursor: pointer;
            transition: color 0.3s ease;
            font-size: 1.1rem;
        }

        .password-toggle:hover {
            color: #d63384;
        }

        .password-toggle.hidden {
            color: #ccc;
        }

        /* Onboarding */
        #onboarding-screen {
            background: linear-gradient(135deg, #ffeef8 0%, #f8e8ff 100%);
        }

        .onboarding-slide {
            display: none;
            width: 100%;
            height: 100%;
            align-items: center;
            justify-content: center;
        }

        .onboarding-slide.active {
            display: flex;
        }

        .onboarding-container {
            text-align: center;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
        }

        .onboarding-container h2 {
            color: #8b5a9e;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .onboarding-container p {
            color: #6c757d;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .age-selector {
            margin: 2rem 0;
        }

        .age-input-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .modern-age-input {
            width: 80px;
            height: 80px;
            border: 3px solid #f3d5e8;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            background: white;
            color: #8b5a9e;
            outline: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.1);
        }

        .modern-age-input:focus {
            border-color: #d63384;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(214, 51, 132, 0.2);
        }

        .age-label {
            font-size: 1.2rem;
            color: #8b5a9e;
            font-weight: 600;
        }

        .age-suggestions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .age-btn {
            background: white;
            border: 2px solid #f3d5e8;
            color: #8b5a9e;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(214, 51, 132, 0.1);
        }

        .age-btn:hover {
            background: #d63384;
            color: white;
            border-color: #d63384;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3);
        }

        .age-btn.selected {
            background: #d63384;
            color: white;
            border-color: #d63384;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3);
        }

        .feature-icon i {
            font-size: 4rem;
            color: #d63384;
            margin-bottom: 1rem;
        }

        .features-list {
            list-style: none;
            text-align: left;
            margin: 2rem 0;
        }

        .features-list li {
            padding: 0.5rem 0;
            color: #6c757d;
        }

        .features-list i {
            color: #28a745;
            margin-right: 0.5rem;
        }

        .username-input {
            position: relative;
            margin: 2rem 0;
        }

        .username-prefix {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #8b5a9e;
            font-weight: 600;
            z-index: 1;
        }

        .username-field {
            padding-left: 40px;
        }

        .profile-upload {
            margin: 2rem 0;
        }

        .profile-placeholder {
            width: 120px;
            height: 120px;
            border: 3px dashed #d63384;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-placeholder:hover {
            background: #ffeef8;
            border-color: #b44d72;
        }

        .profile-placeholder i {
            font-size: 2rem;
            color: #d63384;
            margin-bottom: 0.5rem;
        }

        .profile-placeholder p {
            color: #8b5a9e;
            font-size: 0.9rem;
            margin: 0;
        }

        /* Pantalla Principal */
        #main-screen {
            flex-direction: column;
            padding: 0;
            background: black;
        }

        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .logo-small {
            display: flex;
            align-items: center;
            color: white;
            font-weight: 700;
        }

        .logo-small i {
            font-size: 1.5rem;
            margin-right: 0.5rem;
            color: #d63384;
        }

        .header-actions {
            display: flex;
            gap: 1.5rem;
        }

        .header-actions i {
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .header-actions i:hover {
            color: #d63384;
        }

        /* Container de Videos */
        .video-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            margin-top: 70px;
            margin-bottom: 80px;
        }

        .video-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #2c1810, #3d2817);
            display: none;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .video-slide.active {
            display: block;
            transform: translateY(0);
        }

        .video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.7);
        }

        .video-placeholder i {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .video-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem 1.5rem;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .streamer-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #d63384;
        }

        .streamer-details h4 {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 0.2rem;
        }

        .streamer-details p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .follow-btn {
            background: #d63384;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .follow-btn:hover {
            background: #b44d72;
        }

        .video-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
        }

        .action-btn {
            background: none;
            border: none;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .action-btn:hover {
            color: #d63384;
        }

        .action-btn i {
            font-size: 1.8rem;
        }

        .action-btn span {
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Navegaci√≥n Inferior */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid rgba(214, 51, 132, 0.2);
            z-index: 100;
        }

        .nav-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            color: #8b5a9e;
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 0.5rem 1rem;
        }

        .nav-btn.active {
            color: #d63384;
        }

        .nav-btn:hover {
            color: #d63384;
        }

        .nav-btn i {
            font-size: 1.3rem;
        }

        .nav-btn span {
            font-size: 0.7rem;
            font-weight: 600;
        }

        .stream-btn {
            background: linear-gradient(135deg, #d63384 0%, #b44d72 100%);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            margin-top: -10px;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.4);
        }

        .stream-btn:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(214, 51, 132, 0.5);
        }

        .stream-btn i {
            font-size: 1.5rem;
        }

        .stream-btn span {
            display: none;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .main-header {
                padding: 0.8rem 1rem;
            }
            
            .video-overlay {
                padding: 1.5rem 1rem;
            }
            
            .bottom-nav {
                padding: 0.8rem 0;
            }
            
            .nav-btn {
                padding: 0.3rem 0.5rem;
            }
            
            .nav-btn span {
                font-size: 0.6rem;
            }
        }

        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .onboarding-container {
            animation: fadeIn 0.5s ease;
        }

        /* Gestos t√°ctiles */
        .video-container {
            touch-action: pan-y;
            -webkit-overflow-scrolling: touch;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Pantalla de Carga -->
    <div id="loading-screen" class="screen active">
        <div class="spinner"></div>
        <p>Cargando LiveStream...</p>
    </div>

    <!-- Pantalla de Autenticaci√≥n -->
    <div id="auth-screen" class="screen">
        <div class="auth-container">
            <div class="logo">
                <i class="fas fa-video"></i>
                <h1>LiveStream</h1>
            </div>
            <p class="tagline">Transmite tu mundo en vivo</p>
            
            <div class="auth-buttons">
                <button class="btn-primary" onclick="showLogin()">Iniciar Sesi√≥n</button>
                <button class="btn-secondary" onclick="showRegister()">Registrarse</button>
            </div>

            <!-- Formulario de Login -->
            <div id="login-form" class="auth-form hidden">
                <input type="email" id="login-email" placeholder="Correo electr√≥nico" class="input-field">
                <div class="password-container">
                    <input type="password" id="login-password" placeholder="Contrase√±a" class="input-field password-input">
                    <i class="fas fa-eye password-toggle" onclick="togglePassword('login-password', this)"></i>
                </div>
                <button class="btn-primary" onclick="loginUser()">Entrar</button>
            </div>

            <!-- Formulario de Registro -->
            <div id="register-form" class="auth-form hidden">
                <input type="text" id="register-name" placeholder="Nombre completo" class="input-field">
                <input type="email" id="register-email" placeholder="Correo electr√≥nico" class="input-field">
                <div class="password-container">
                    <input type="password" id="register-password" placeholder="Contrase√±a" class="input-field password-input">
                    <i class="fas fa-eye password-toggle" onclick="togglePassword('register-password', this)"></i>
                </div>
                <button class="btn-primary" onclick="registerUser()">Crear Cuenta</button>
            </div>
        </div>
    </div>

    <!-- Pantallas de Onboarding -->
    <div id="onboarding-screen" class="screen">
        <!-- Slide 1: Edad -->
        <div id="age-slide" class="onboarding-slide active">
            <div class="onboarding-container">
                <h2>¬øCu√°l es tu edad?</h2>
                <p>Esto nos ayuda a personalizar tu experiencia</p>
                <div class="age-selector">
                    <div class="age-input-container">
                        <input type="number" id="user-age" min="13" max="100" placeholder="18" class="modern-age-input">
                        <label class="age-label">a√±os</label>
                    </div>
                    <div class="age-suggestions">
                        <button class="age-btn" onclick="setAge(18)">18</button>
                        <button class="age-btn" onclick="setAge(25)">25</button>
                        <button class="age-btn" onclick="setAge(30)">30</button>
                        <button class="age-btn" onclick="setAge(35)">35+</button>
                    </div>
                </div>
                <button class="btn-primary" onclick="saveAgeAndNext()">Continuar</button>
            </div>
        </div>

        <!-- Slide 2: Informaci√≥n de la App -->
        <div id="info-slide" class="onboarding-slide">
            <div class="onboarding-container">
                <div class="feature-icon">
                    <i class="fas fa-broadcast-tower"></i>
                </div>
                <h2>Transmite en Vivo</h2>
                <p>Comparte tus momentos favoritos con el mundo. Transmite en tiempo real y conecta con tu audiencia.</p>
                <ul class="features-list">
                    <li><i class="fas fa-check"></i> Transmisi√≥n HD en tiempo real</li>
                    <li><i class="fas fa-check"></i> Chat interactivo</li>
                    <li><i class="fas fa-check"></i> Efectos y filtros</li>
                </ul>
                <button class="btn-primary" onclick="nextSlide()">Siguiente</button>
            </div>
        </div>

        <!-- Slide 3: Nombre de Usuario -->
        <div id="username-slide" class="onboarding-slide">
            <div class="onboarding-container">
                <h2>Elige tu nombre de usuario</h2>
                <p>Este ser√° tu identificador √∫nico en la plataforma</p>
                <div class="username-input">
                    <span class="username-prefix">@</span>
                    <input type="text" id="user-username" placeholder="nombreusuario" class="input-field username-field">
                </div>
                <button class="btn-primary" onclick="saveUsernameAndNext()">Continuar</button>
            </div>
        </div>

        <!-- Slide 4: Foto de Perfil -->
        <div id="profile-slide" class="onboarding-slide">
            <div class="onboarding-container">
                <h2>Agrega tu foto de perfil</h2>
                <p>Ayuda a otros a reconocerte</p>
                <div class="profile-upload">
                    <div class="profile-placeholder">
                        <i class="fas fa-camera"></i>
                        <p>Toca para agregar foto</p>
                    </div>
                    <input type="file" id="profile-pic" accept="image/*" style="display: none;">
                </div>
                <button class="btn-primary" onclick="saveProfileAndFinish()">Empezar a Transmitir</button>
            </div>
        </div>
    </div>

    <!-- Pantalla Principal -->
    <div id="main-screen" class="screen">
        <!-- Header -->
        <header class="main-header">
            <div class="logo-small">
                <i class="fas fa-video"></i>
                <span>LiveStream</span>
            </div>
            <div class="header-actions">
                <i class="fas fa-search"></i>
                <i class="fas fa-bell"></i>
            </div>
        </header>

        <!-- Video Container (swipeable) -->
        <div class="video-container" id="videoContainer">
            <div class="video-slide active" data-video="1">
                <div class="video-placeholder">
                    <i class="fas fa-play-circle"></i>
                    <p>Video en Vivo #1</p>
                </div>
                <div class="video-overlay">
                    <div class="streamer-info">
                        <img src="https://via.placeholder.com/40" class="avatar">
                        <div class="streamer-details">
                            <h4>@usuario1</h4>
                            <p>Transmitiendo m√∫sica üéµ</p>
                        </div>
                        <button class="follow-btn">Seguir</button>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn">
                            <i class="fas fa-heart"></i>
                            <span>1.2k</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-comment"></i>
                            <span>89</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-share"></i>
                            <span>Share</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="video-slide" data-video="2">
                <div class="video-placeholder">
                    <i class="fas fa-play-circle"></i>
                    <p>Video en Vivo #2</p>
                </div>
                <div class="video-overlay">
                    <div class="streamer-info">
                        <img src="https://via.placeholder.com/40" class="avatar">
                        <div class="streamer-details">
                            <h4>@usuario2</h4>
                            <p>Jugando videojuegos üéÆ</p>
                        </div>
                        <button class="follow-btn">Seguir</button>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn">
                            <i class="fas fa-heart"></i>
                            <span>856</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-comment"></i>
                            <span>42</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-share"></i>
                            <span>Share</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="video-slide" data-video="3">
                <div class="video-placeholder">
                    <i class="fas fa-play-circle"></i>
                    <p>Video en Vivo #3</p>
                </div>
                <div class="video-overlay">
                    <div class="streamer-info">
                        <img src="https://via.placeholder.com/40" class="avatar">
                        <div class="streamer-details">
                            <h4>@usuario3</h4>
                            <p>Cocinando recetas üë©‚Äçüç≥</p>
                        </div>
                        <button class="follow-btn">Seguir</button>
                    </div>
                    <div class="video-actions">
                        <button class="action-btn">
                            <i class="fas fa-heart"></i>
                            <span>2.1k</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-comment"></i>
                            <span>156</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-share"></i>
                            <span>Share</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Barra de Navegaci√≥n Inferior -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-tab="inicio">
                <i class="fas fa-home"></i>
                <span>Inicio</span>
            </button>
            <button class="nav-btn" data-tab="tendencias">
                <i class="fas fa-fire"></i>
                <span>Tendencias</span>
            </button>
            <button class="nav-btn stream-btn">
                <i class="fas fa-plus"></i>
            </button>
            <button class="nav-btn" data-tab="inbox">
                <i class="fas fa-inbox"></i>
                <span>Inbox</span>
            </button>
            <button class="nav-btn" data-tab="perfil">
                <i class="fas fa-user"></i>
                <span>Perfil</span>
            </button>
        </nav>
    </div>

    <script>
        // Estado de la aplicaci√≥n
        let currentSlide = 0;
        let currentVideo = 0;
        const totalVideos = 3;
        let userData = {
            age: null,
            username: null,
            profilePic: null,
            email: null,
            name: null
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                hideScreen('loading-screen');
                showScreen('auth-screen');
            }, 2000);

            initializeSwipeGestures();
            initializeNavigation();
            initializeProfileUpload();
        });

        // Gesti√≥n de pantallas
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function hideScreen(screenId) {
            document.getElementById(screenId).classList.remove('active');
        }

        // Funcionalidad del ojito para contrase√±as
        function togglePassword(inputId, icon) {
            const input = document.getElementById(inputId);
            const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
            input.setAttribute('type', type);
            
            // Cambiar icono
            if (type === 'text') {
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
                icon.classList.add('hidden');
            } else {
                icon.classList.remove('fa-eye-slash', 'hidden');
                icon.classList.add('fa-eye');
            }
        }

        // Autenticaci√≥n
        function showLogin() {
            document.getElementById('login-form').classList.remove('hidden');
            document.getElementById('register-form').classList.add('hidden');
        }

        function showRegister() {
            document.getElementById('register-form').classList.remove('hidden');
            document.getElementById('login-form').classList.add('hidden');
        }

        // Registro simulado (sin Firebase)
        function registerUser() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            
            if (!name || !email || !password) {
                alert('Por favor completa todos los campos');
                return;
            }
            
            userData.email = email;
            userData.name = name;
            
            startOnboarding();
        }

        // Login simulado (sin Firebase)
        function loginUser() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                alert('Por favor completa todos los campos');
                return;
            }
            
            userData.email = email;
            
            // Ir directamente a la app principal
            showScreen('main-screen');
            initializeMainApp();
        }

        function startOnboarding() {
            showScreen('onboarding-screen');
            showSlide('age-slide');
        }

        // Onboarding
        function showSlide(slideId) {
            document.querySelectorAll('.onboarding-slide').forEach(slide => {
                slide.classList.remove('active');
            });
            document.getElementById(slideId).classList.add('active');
        }

        // Funciones mejoradas para selector de edad
        function setAge(age) {
            document.getElementById('user-age').value = age;
            // Efecto visual
            document.querySelectorAll('.age-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function saveAgeAndNext() {
            const age = document.getElementById('user-age').value;
            if (!age || age < 13) {
                alert('Por favor ingresa una edad v√°lida (m√≠nimo 13 a√±os)');
                return;
            }
            
            userData.age = age;
            nextSlide();
        }

        function nextSlide() {
            const slides = ['age-slide', 'info-slide', 'username-slide', 'profile-slide'];
            currentSlide++;
            
            if (currentSlide < slides.length) {
                showSlide(slides[currentSlide]);
            }
        }

        function saveUsernameAndNext() {
            const username = document.getElementById('user-username').value;
            if (!username || username.length < 3) {
                alert('El nombre de usuario debe tener al menos 3 caracteres');
                return;
            }
            
            userData.username = username;
            nextSlide();
        }

        function saveProfileAndFinish() {
            // Mostrar spinner de carga
            showScreen('loading-screen');
            
            setTimeout(() => {
                showScreen('main-screen');
                initializeMainApp();
            }, 1500);
        }

        // Aplicaci√≥n Principal
        function initializeMainApp() {
            document.getElementById('main-screen').style.display = 'flex';
            simulateLiveData();
        }

        // Gestos de deslizar
        function initializeSwipeGestures() {
            let startY = 0;
            let currentY = 0;
            let isScrolling = false;

            const videoContainer = document.getElementById('videoContainer');

            videoContainer.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isScrolling = false;
            });

            videoContainer.addEventListener('touchmove', (e) => {
                if (!isScrolling) {
                    currentY = e.touches[0].clientY;
                    const deltaY = startY - currentY;
                    
                    if (Math.abs(deltaY) > 50) {
                        isScrolling = true;
                        
                        if (deltaY > 0) {
                            nextVideo();
                        } else {
                            previousVideo();
                        }
                    }
                }
            });

            videoContainer.addEventListener('wheel', (e) => {
                e.preventDefault();
                
                if (e.deltaY > 0) {
                    nextVideo();
                } else {
                    previousVideo();
                }
            }, { passive: false });
        }

        function nextVideo() {
            const currentSlide = document.querySelector('.video-slide.active');
            const nextSlide = currentSlide.nextElementSibling || document.querySelector('.video-slide');
            
            if (nextSlide && nextSlide !== currentSlide) {
                currentSlide.classList.remove('active');
                nextSlide.classList.add('active');
            }
        }

        function previousVideo() {
            const currentSlide = document.querySelector('.video-slide.active');
            const previousSlide = currentSlide.previousElementSibling || document.querySelector('.video-slide:last-child');
            
            if (previousSlide && previousSlide !== currentSlide) {
                currentSlide.classList.remove('active');
                previousSlide.classList.add('active');
            }
        }

        // Navegaci√≥n
        function initializeNavigation() {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.classList.contains('stream-btn')) {
                        startStreaming();
                        return;
                    }

                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const tab = this.dataset.tab;
                    handleTabChange(tab);
                });
            });
        }

        function handleTabChange(tab) {
            console.log(`Cambiando a pesta√±a: ${tab}`);
            switch(tab) {
                case 'inicio':
                    break;
                case 'tendencias':
                    break;
                case 'inbox':
                    break;
                case 'perfil':
                    break;
            }
        }

        function startStreaming() {
            alert('¬°Funci√≥n de transmisi√≥n en vivo pr√≥ximamente! üé•‚ú®');
        }

        // Upload de foto de perfil mejorado
        function initializeProfileUpload() {
            const placeholder = document.querySelector('.profile-placeholder');
            const fileInput = document.getElementById('profile-pic');
            
            placeholder.addEventListener('click', () => {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const base64String = e.target.result;
                        userData.profilePic = base64String;
                        
                        placeholder.innerHTML = `<img src="${base64String}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        // Controles de teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp') {
                previousVideo();
            } else if (e.key === 'ArrowDown') {
                nextVideo();
            }
        });

        // Simulaci√≥n de datos en tiempo real
        function simulateLiveData() {
            const actionBtns = document.querySelectorAll('.action-btn span');
            
            setInterval(() => {
                actionBtns.forEach(span => {
                    if (span.textContent.includes('k') || !isNaN(span.textContent)) {
                        const currentNum = parseInt(span.textContent.replace('k', '')) || 0;
                        const newNum = currentNum + Math.floor(Math.random() * 5);
                        span.textContent = newNum > 1000 ? `${(newNum/1000).toFixed(1)}k` : newNum.toString();
                    }
                });
            }, 3000);
        }
    </script>
</body>
</html>
